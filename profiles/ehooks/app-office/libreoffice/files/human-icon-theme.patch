From dd3e3868c02786977918caf1d670955642f2da39 Mon Sep 17 00:00:00 2001
From: c4pp4
Date: Sat, 6 Sep 2025 00:05:23 +0200
Subject: [PATCH 1/1] Configure with Human icon theme

Signed-off-by: c4pp4
---
 configure.ac                         | 4 ++--
 vcl/source/app/IconThemeSelector.cxx | 9 +++++++--
 vcl/source/image/ImplImageTree.cxx   | 2 ++
 3 files changed, 11 insertions(+), 4 deletions(-)

diff --git a/configure.ac b/configure.ac
index bec6c26fa..5c84daedf 100644
--- a/configure.ac
+++ b/configure.ac
@@ -14068,14 +14068,14 @@ dnl ===================================================================
 AC_MSG_CHECKING([which themes to include])
 # if none given use default subset of available themes
 if test "x$with_theme" = "x" -o "x$with_theme" = "xyes"; then
-    with_theme="breeze breeze_dark breeze_dark_svg breeze_svg colibre colibre_svg colibre_dark colibre_dark_svg elementary elementary_svg karasa_jaga karasa_jaga_svg sifr sifr_svg sifr_dark sifr_dark_svg sukapura sukapura_dark sukapura_dark_svg sukapura_svg"
+    with_theme="breeze breeze_dark breeze_dark_svg breeze_svg colibre colibre_svg colibre_dark colibre_dark_svg elementary human tango elementary_svg karasa_jaga karasa_jaga_svg sifr sifr_svg sifr_dark sifr_dark_svg sukapura sukapura_dark sukapura_dark_svg sukapura_svg"
 fi
 
 WITH_THEMES=""
 if test "x$with_theme" != "xno"; then
     for theme in $with_theme; do
         case $theme in
-        breeze|breeze_dark|breeze_dark_svg|breeze_svg|colibre|colibre_svg|colibre_dark|colibre_dark_svg|elementary|elementary_svg|karasa_jaga|karasa_jaga_svg|sifr|sifr_svg|sifr_dark|sifr_dark_svg|sukapura|sukapura_dark|sukapura_dark_svg|sukapura_svg) WITH_THEMES="${WITH_THEMES:+$WITH_THEMES }$theme" ;;
+        breeze|breeze_dark|breeze_dark_svg|breeze_svg|colibre|colibre_svg|colibre_dark|colibre_dark_svg|elementary|human|tango|elementary_svg|karasa_jaga|karasa_jaga_svg|sifr|sifr_svg|sifr_dark|sifr_dark_svg|sukapura|sukapura_dark|sukapura_dark_svg|sukapura_svg) WITH_THEMES="${WITH_THEMES:+$WITH_THEMES }$theme" ;;
         *) AC_MSG_ERROR([Unknown value for --with-theme: $theme]) ;;
         esac
     done
diff --git a/vcl/source/app/IconThemeSelector.cxx b/vcl/source/app/IconThemeSelector.cxx
index 7c621aa93..499ef0d8c 100644
--- a/vcl/source/app/IconThemeSelector.cxx
+++ b/vcl/source/app/IconThemeSelector.cxx
@@ -84,12 +84,17 @@ IconThemeSelector::GetIconThemeForDesktopEnvironment(const OUString& desktopEnvi
             r = "sukapura_dark_svg";
     }
     else if ( desktopEnvironment.equalsIgnoreAsciiCase("gnome") ||
-         desktopEnvironment.equalsIgnoreAsciiCase("mate") ||
-         desktopEnvironment.equalsIgnoreAsciiCase("unity") ) {
+         desktopEnvironment.equalsIgnoreAsciiCase("mate") ) {
         if (!bPreferDarkIconTheme)
             r = "elementary";
         else
             r = "sifr_dark";
+    }
+    else if ( desktopEnvironment.equalsIgnoreAsciiCase("unity") ) {
+        if (!bPreferDarkIconTheme)
+            r = "human";
+        else
+            r = "sifr_dark";
     } else
     {
         if (!bPreferDarkIconTheme)
diff --git a/vcl/source/image/ImplImageTree.cxx b/vcl/source/image/ImplImageTree.cxx
index e2409a847..384894dc2 100644
--- a/vcl/source/image/ImplImageTree.cxx
+++ b/vcl/source/image/ImplImageTree.cxx
@@ -338,6 +338,8 @@ OUString ImplImageTree::fallbackStyle(std::u16string_view rsStyle)
 
     if (rsStyle == u"colibre" || rsStyle == u"helpimg")
         sResult = "";
+    else if (rsStyle == u"human" )
+        sResult = "tango";
     else if (rsStyle == u"sifr" || rsStyle == u"breeze_dark")
         sResult = "breeze";
     else if (rsStyle == u"sifr_dark" )
-- 
2.49.1

